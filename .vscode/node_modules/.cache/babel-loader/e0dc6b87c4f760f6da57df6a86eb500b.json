{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\virtusa\\\\project\\\\football_league_management\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport { useStateValue } from './utils/StateProvider';\nimport { actionTypes, openSnackbar } from \"./utils/Reducer\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Cart from './pages/user/Cart';\nimport OrderPreview from './pages/user/OrderPreview';\nimport Orders from './pages/user/Orders';\nimport AddProduct from './pages/admin/AddProduct';\nimport AdminHome from './pages/admin/AdminHome';\nimport AllOrders from './pages/admin/AllOrders';\nimport EditProduct from './pages/admin/EditProduct';\nimport Product from './pages/user/Product';\nimport DashBoard from './pages/user/DashBoard';\nimport Users from './pages/admin/Users';\nimport Email from './pages/admin/Email';\nimport { loadAuthorizationHeaderFromStorage, ApiClient } from './utils/ApiClient';\nimport { Snackbar, Alert } from '@mui/material';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [{\n    user,\n    userType,\n    snackbar\n  }, dispatch] = useStateValue(); // run only during mount\n\n  useEffect(() => {\n    loadAuthorizationHeaderFromStorage(); // http error handler\n\n    ApiClient.interceptors.response.use(response => response, error => {\n      let message = 'There seems to be some internet connectivity issues!';\n\n      if (error.response) {\n        if (error.response.headers['error-message']) {\n          message = error.response.headers['error-message'];\n        } else {\n          message = 'There was some unknown internal error. Please try again later.';\n        }\n      }\n\n      dispatch(openSnackbar(message, 'error'));\n      throw error;\n    });\n  }, []);\n  useEffect(() => {\n    if (user) {\n      AsyncStorage.setItem('USER', JSON.stringify({\n        user: `${user}`,\n        userType: `${userType}`\n      }));\n    } else {\n      AsyncStorage.getItem('USER').then(value => {\n        if (value) {\n          value = JSON.parse(value);\n          dispatch({\n            type: actionTypes.SET_USER,\n            user: value.user,\n            userType: value.userType\n          });\n          console.log(value);\n        }\n      });\n    }\n  }, [user]);\n\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    dispatch({\n      type: actionTypes.SET_SNACKBAR,\n      snackbar: { ...snackbar,\n        open: false\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Router, {\n      children: !user ? /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/forgot-password\",\n          children: /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/reset-password/:code\",\n          children: /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: userType === 'user' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/cart\",\n              children: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/preview\",\n              children: /*#__PURE__*/_jsxDEV(OrderPreview, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/orders\",\n              children: /*#__PURE__*/_jsxDEV(Orders, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/product/:productId\",\n              children: /*#__PURE__*/_jsxDEV(Product, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              children: /*#__PURE__*/_jsxDEV(DashBoard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/addProduct\",\n              children: /*#__PURE__*/_jsxDEV(AddProduct, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/editProduct/:productId\",\n              children: /*#__PURE__*/_jsxDEV(EditProduct, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/admin/orders\",\n              children: /*#__PURE__*/_jsxDEV(AllOrders, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/admin/users\",\n              children: /*#__PURE__*/_jsxDEV(Users, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/admin/email\",\n              children: /*#__PURE__*/_jsxDEV(Email, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/admin\",\n              children: /*#__PURE__*/_jsxDEV(AdminHome, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/home\",\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)\n        }, void 0, false)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      open: snackbar.open,\n      onClose: handleSnackbarClose,\n      autoHideDuration: 6000,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleSnackbarClose,\n        severity: snackbar.type,\n        variant: \"filled\",\n        elevation: 6,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, 'bottomright', false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"02IgBbsiWId/s5uVM0aUnAphhjM=\", false, function () {\n  return [useStateValue];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/virtusa/project/football_league_management/src/App.js"],"names":["React","useEffect","useStateValue","actionTypes","openSnackbar","AsyncStorage","BrowserRouter","Router","Switch","Route","Redirect","Login","Signup","Cart","OrderPreview","Orders","AddProduct","AdminHome","AllOrders","EditProduct","Product","DashBoard","Users","Email","loadAuthorizationHeaderFromStorage","ApiClient","Snackbar","Alert","ForgotPassword","ResetPassword","App","user","userType","snackbar","dispatch","interceptors","response","use","error","message","headers","setItem","JSON","stringify","getItem","then","value","parse","type","SET_USER","console","log","handleSnackbarClose","event","reason","SET_SNACKBAR","open","vertical","horizontal","width"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\nimport { useStateValue } from './utils/StateProvider';\nimport { actionTypes, openSnackbar } from \"./utils/Reducer\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from './pages/Login';\nimport Signup from './pages/Signup'\nimport Cart from './pages/user/Cart';\nimport OrderPreview from './pages/user/OrderPreview';\nimport Orders from './pages/user/Orders'\nimport AddProduct from './pages/admin/AddProduct';\nimport AdminHome from './pages/admin/AdminHome';\nimport AllOrders from './pages/admin/AllOrders';\nimport EditProduct from './pages/admin/EditProduct';\nimport Product from './pages/user/Product';\nimport DashBoard from './pages/user/DashBoard';\nimport Users from './pages/admin/Users';\nimport Email from './pages/admin/Email';\nimport { loadAuthorizationHeaderFromStorage, ApiClient } from './utils/ApiClient';\nimport { Snackbar, Alert } from '@mui/material';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\n\nfunction App() {\n\n  const [{user, userType, snackbar}, dispatch] = useStateValue();\n  \n  // run only during mount\n  useEffect(() => {\n    loadAuthorizationHeaderFromStorage();\n    // http error handler\n    ApiClient.interceptors.response.use((response) => response, (error) => {\n      let message = 'There seems to be some internet connectivity issues!';\n      \n      if (error.response) {\n        if (error.response.headers['error-message']) {\n          message = error.response.headers['error-message'];\n        }\n        else {\n          message = 'There was some unknown internal error. Please try again later.';\n        }\n      }\n\n      dispatch(openSnackbar(message, 'error'));\n      \n      throw error;\n    });\n  }, []);\n  \n  useEffect(() => {\n    if (user) {\n      AsyncStorage.setItem('USER', JSON.stringify({\n        user:`${user}`,\n        userType: `${userType}`\n      }));\n    }else{\n      AsyncStorage.getItem('USER').then((value) => {\n        if (value) {\n          value = JSON.parse(value)\n          dispatch({\n            type: actionTypes.SET_USER,\n            user: value.user,\n            userType: value.userType\n          })\n          console.log(value)\n        }\n      });\n    }\n  }, [user]);\n\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    dispatch({\n      type: actionTypes.SET_SNACKBAR,\n      snackbar: { ...snackbar, open: false }\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      <Router>\n        {!user ? (\n          <Switch>\n            <Route exact path = \"/signup\">\n              <Signup/>\n            </Route>            \n            <Route exact path = \"/forgot-password\">\n              <ForgotPassword />\n            </Route>\n            <Route exact path = \"/reset-password/:code\">\n              <ResetPassword />\n            </Route>\n            <Route path=\"/\">\n              <Login/>\n            </Route>\n          </Switch>\n        ):(\n          <>\n          {\n            userType === 'user' ? (\n              <>\n                <Switch>\n                  <Route path=\"/cart\">\n                    <Cart/>\n                  </Route>\n                  <Route path=\"/preview\">\n                    <OrderPreview/>\n                  </Route>\n                  <Route path=\"/orders\">\n                    <Orders/>\n                  </Route>\n                  <Route path=\"/product/:productId\">\n                    <Product />\n                  </Route>\n                  <Route path=\"/home\">\n                    <DashBoard/>\n                  </Route>\n                  <Route exact path=\"/\">\n                    <Redirect to=\"/home\" />\n                  </Route>\n                </Switch>  \n              </>\n            ) : (\n              <>\n                <Switch>\n                  <Route path=\"/addProduct\">\n                    <AddProduct/>\n                  </Route>\n                  <Route path=\"/editProduct/:productId\">\n                    <EditProduct/>\n                  </Route>\n                  <Route path=\"/admin/orders\">\n                    <AllOrders/>\n                  </Route>\n                  <Route path=\"/admin/users\">\n                    <Users />\n                  </Route>\n                  <Route path=\"/admin/email\">\n                    <Email />\n                  </Route>\n                  <Route path=\"/admin\">\n                    <AdminHome/>\n                  </Route>\n                  <Route exact path=\"/\">\n                    <Redirect to=\"/admin\" />\n                  </Route>\n                  <Route exact path=\"/home\">\n                    <Redirect to=\"/admin\" />\n                  </Route>\n                </Switch>\n              </>\n            )\n          }  \n          </>        \n        )}    \n      </Router>\n      <Snackbar\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n        open={snackbar.open}\n        onClose={handleSnackbarClose}\n        autoHideDuration={6000}\n        key={'bottomright'}\n      >\n        <Alert onClose={handleSnackbarClose} severity={snackbar.type} variant=\"filled\" elevation={6} sx={{ width: '100%' }}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
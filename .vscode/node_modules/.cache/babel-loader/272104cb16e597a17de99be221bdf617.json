{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\virtusa\\\\project\\\\football_league_management\\\\src\\\\pages\\\\user\\\\Product.js\",\n    _s = $RefreshSig$();\n\nimport Navbar from '../../components/Navbar';\nimport ProductCard from '../../components/ProductCard';\nimport { openSnackbar } from \"../../utils/Reducer\";\nimport { ApiClient, doUrlEncodedRequest } from '../../utils/ApiClient';\nimport { useStateValue } from '../../utils/StateProvider';\nimport { useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { Box, Grid, Stack, Typography } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { displayRazorpay } from '../../utils/Razorpay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Product() {\n  _s();\n\n  var _products$find;\n\n  const {\n    productId\n  } = useParams();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const similarPricedProducts = []; // get list of products from state\n\n  let [{\n    products\n  }, dispatch] = useStateValue(); // set product\n\n  const product = (_products$find = products.find(x => x.productId === productId)) !== null && _products$find !== void 0 ? _products$find : {};\n\n  if (!product.productId) {\n    dispatch(openSnackbar('This product does not seem to be available anymore!', 'error'));\n    history.push('/');\n  } else {\n    // populate products with similar price\n    similarPricedProducts.push(...products.sort((a, b) => Math.abs(a.price - product.price) - Math.abs(b.price - product.price)).filter(x => x.productId !== product.productId).slice(0, 4));\n  }\n\n  const addToCart = () => {\n    setLoading(true);\n    ApiClient(doUrlEncodedRequest('POST', {\n      quantity: 1\n    }, `/home/${product.productId}`)).then(response => {\n      if (response.data) {\n        dispatch(openSnackbar(`${product.productName} is now added to cart.`, 'success'));\n      }\n    }).finally(() => setLoading(false));\n  };\n\n  const buyNow = () => {\n    setLoading2(true);\n    ApiClient.post(`/placeOrder/${product.productId}`, {\n      productName: product.productName,\n      quantity: 1,\n      price: product.price\n    }).then(response => {\n      if (response.data) {\n        displayRazorpay(response.data, product.price).then(() => {\n          dispatch(openSnackbar(`The payment for ${product.productName} has been processed.`, 'success'));\n        }).catch(() => {\n          dispatch(openSnackbar(`There was an error in processing the payment. Any amount deducted will be refunded within 4 days.`, 'error'));\n        });\n      }\n    }).finally(() => setLoading2(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      textAlign: 'left'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        paddingTop: '75px'\n      },\n      container: true,\n      maxWidth: \"md\",\n      spacing: 3,\n      sx: {\n        m: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        sx: {\n          justifyContent: 'center',\n          alignItems: 'center',\n          display: 'flex'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.imageUrl,\n          alt: product.productName,\n          style: {\n            maxWidth: '27.5vw',\n            maxHeight: '85vh'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 1,\n          sx: {\n            pt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h3\",\n            component: \"div\",\n            sx: {\n              display: {\n                xs: 'none',\n                md: 'block'\n              }\n            },\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h4\",\n            component: \"div\",\n            sx: {\n              display: {\n                xs: 'block',\n                md: 'none'\n              }\n            },\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"div\",\n            children: \"Specifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            component: \"pre\",\n            sx: {\n              whiteSpace: 'break-spaces'\n            },\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"div\",\n            children: [\"\\u20B9\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 2,\n            direction: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(LoadingButton, {\n              variant: \"outlined\",\n              onClick: addToCart,\n              loading: loading,\n              loadingIndicator: \"Adding...\",\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n              variant: \"contained\",\n              color: \"secondary\",\n              onClick: buyNow,\n              loading: loading2,\n              loadingIndicator: \"Buying...\",\n              children: \"Buy Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      maxWidth: \"lg\",\n      spacing: 1,\n      sx: {\n        mx: 'auto',\n        my: 5,\n        px: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"div\",\n        children: \"Similarly Priced Phones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: {\n          xs: 1,\n          sm: 3\n        },\n        sx: {\n          mx: 'auto'\n        },\n        children: similarPricedProducts.map((x, i) => {\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 4,\n            lg: 4,\n            xl: 3,\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: x\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Product, \"9rcRkT3Osl0FOS67Q8qgHofjfGc=\", false, function () {\n  return [useParams, useHistory, useStateValue];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/virtusa/project/football_league_management/src/pages/user/Product.js"],"names":["Navbar","ProductCard","openSnackbar","ApiClient","doUrlEncodedRequest","useStateValue","useState","useParams","useHistory","Box","Grid","Stack","Typography","LoadingButton","displayRazorpay","Product","productId","history","loading","setLoading","loading2","setLoading2","similarPricedProducts","products","dispatch","product","find","x","push","sort","a","b","Math","abs","price","filter","slice","addToCart","quantity","then","response","data","productName","finally","buyNow","post","catch","textAlign","paddingTop","m","justifyContent","alignItems","display","imageUrl","maxWidth","maxHeight","pt","xs","md","whiteSpace","description","mx","my","px","sm","map","i"],"mappings":"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","sourcesContent":["import Navbar from '../../components/Navbar';\nimport ProductCard from '../../components/ProductCard';\nimport { openSnackbar } from \"../../utils/Reducer\";\nimport { ApiClient, doUrlEncodedRequest } from '../../utils/ApiClient';\nimport { useStateValue } from '../../utils/StateProvider';\nimport { useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { Box, Grid, Stack, Typography } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { displayRazorpay } from '../../utils/Razorpay';\n\nfunction Product() {\n    const { productId } = useParams();\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n    const [loading2, setLoading2] = useState(false);\n    const similarPricedProducts = [];\n\n    // get list of products from state\n    let [{ products }, dispatch] = useStateValue();\n    \n    // set product\n    const product = products.find(x => x.productId === productId) ?? {};\n\n    if (!product.productId) {        \n        dispatch(openSnackbar('This product does not seem to be available anymore!', 'error'));\n        history.push('/');\n    }\n    else {\n        // populate products with similar price\n        similarPricedProducts.push(\n            ...products\n                .sort((a, b) => Math.abs(a.price - product.price) - Math.abs(b.price - product.price))\n                .filter(x => x.productId !== product.productId)\n                .slice(0, 4)\n        );\n    }\n\n    const addToCart = () => {\n        setLoading(true);\n        ApiClient(doUrlEncodedRequest('POST', { quantity: 1 }, `/home/${product.productId}`)).then(response => {\n        if (response.data) {\n          dispatch(openSnackbar(`${product.productName} is now added to cart.`, 'success'));\n        }\n      }).finally(() => setLoading(false));\n    }\n\n    const buyNow = () => {\n        setLoading2(true);\n        ApiClient.post(`/placeOrder/${product.productId}`, {\n            productName: product.productName,\n            quantity: 1,\n            price: product.price\n        }).then(response => {\n            if (response.data) {\n                displayRazorpay(response.data, product.price).then(() => {\n                    dispatch(openSnackbar(`The payment for ${product.productName} has been processed.`, 'success'));\n                }).catch(() => {\n                    dispatch(openSnackbar(`There was an error in processing the payment. Any amount deducted will be refunded within 4 days.`, 'error'));\n                });\n            }\n      }).finally(() => setLoading2(false));\n    }\n\n    return (\n        <Box sx={{ textAlign: 'left' }}>\n            <Navbar/>\n            <Grid style={{paddingTop: '75px'}} container maxWidth=\"md\" spacing={3} sx={{ m: 'auto' }}>\n                <Grid item xs={12} sm={6} sx={{ justifyContent: 'center', alignItems: 'center', display: 'flex' }}>\n                    <img src={product.imageUrl} alt={product.productName} style={{ maxWidth: '27.5vw', maxHeight: '85vh' }} />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <Stack spacing={1} sx={{ pt: 3 }}>\n                        <Typography gutterBottom variant=\"h3\" component=\"div\" sx={{ display: { xs: 'none', md: 'block' } }}>\n                            {product.productName}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h4\" component=\"div\" sx={{ display: { xs: 'block', md: 'none' } }}>\n                            {product.productName}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"div\">\n                            Specifications\n                        </Typography>\n                        <Typography variant=\"body1\" component=\"pre\" sx={{ whiteSpace: 'break-spaces' }}>\n                            {product.description}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"div\">\n                            ₹{product.price}\n                        </Typography>\n                        <Stack spacing={2} direction=\"row\">\n                            <LoadingButton variant=\"outlined\" onClick={addToCart} loading={loading} loadingIndicator=\"Adding...\">\n                                Add to Cart\n                            </LoadingButton>\n                            <LoadingButton variant=\"contained\" color=\"secondary\" onClick={buyNow} loading={loading2} loadingIndicator=\"Buying...\">\n                                Buy Now\n                            </LoadingButton>\n                        </Stack>\n                    </Stack>\n                </Grid>\n            </Grid>\n            <Stack maxWidth=\"lg\" spacing={1} sx={{ mx: 'auto', my: 5, px: 2 }}>\n                <Typography variant=\"h4\" component=\"div\">\n                    Similarly Priced Phones\n                </Typography>\n                <Grid container spacing={{ xs: 1, sm: 3 }} sx={{ mx: 'auto' }}>\n                    {similarPricedProducts.map((x, i) => {\n                        return <Grid item xs={6} sm={4} lg={4} xl={3} key={i}>\n                            <ProductCard product={x} />\n                        </Grid>\n                    })}\n                </Grid>\n            </Stack>\n        </Box>\n    )\n}\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}
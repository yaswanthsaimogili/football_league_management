{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\virtusa\\\\project\\\\football_league_management\\\\src\\\\components\\\\Datatable.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { default as Table } from 'react-data-table-component';\nimport styled from 'styled-components';\nimport { useStateValue } from \"../utils/StateProvider\";\nimport { MdRemove, MdAdd, MdDelete, MdDone, MdBolt } from \"react-icons/md\";\nimport { FaBolt } from \"react-icons/fa\";\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport Skeleton from '@mui/material/Skeleton';\nimport { createTheme } from '@mui/material/styles';\nimport { ApiClient, doUrlEncodedRequest } from '../utils/ApiClient';\nimport { displayRazorpay } from '../utils/Razorpay';\nimport { openSnackbar } from \"../utils/Reducer\";\nimport { useHistory } from 'react-router-dom';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport AuditLog from './AuditLog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  table: {\n    style: {\n      borderStyle: 'solid',\n      borderWidth: '1px'\n    }\n  },\n  headRow: {\n    style: {\n      backgroundColor: '#00BFA6',\n      minHeight: '52px',\n      borderBottomWidth: '1px',\n      borderBottomStyle: 'solid'\n    }\n  }\n};\nconst Container = styled.div`\n    margin: 0 auto;\n    @media(max-width:780px){\n        width: 100%;\n    }\n`;\n_c = Container;\nconst ExpanderContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    padding: 20px;\n    @media(max-width: 780px){\n        flex-direction: column;\n    }\n`;\n_c2 = ExpanderContainer;\nconst Left = styled.div`\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n_c3 = Left;\nconst Right = styled.div`\n    flex: 2;\n    display: flex;\n    justify-content: center;\n    justify-content: flex-start;\n`;\n_c4 = Right;\nconst Wrapper = styled.div`\n    display: flex;\n    justify-content: flex-start;    \n    flex-direction: column;\n    text-align: left;\n`;\n_c5 = Wrapper;\nconst Title = styled.p`\n    font-size: 20px;\n    font-weight: 700;\n`;\n_c6 = Title;\nconst Detail = styled.p`\n    font-size: 16px;\n    font-weight: 500;\n`;\n_c7 = Detail;\nconst ComponentImg = styled.img`\n    height: 200px;\n    width: auto;\n    text-align: center;\n`;\n_c8 = ComponentImg;\nconst ButtonContainer = styled.div`\n    margin: 2px;\n`;\n_c9 = ButtonContainer;\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#B1D8B7',\n      darker: '#00BFA6'\n    }\n  }\n});\n\nfunction Datatable(_ref) {\n  _s();\n\n  let {\n    type,\n    id,\n    userId\n  } = _ref;\n  const [{\n    userType\n  }, dispatch] = useStateValue();\n  const history = useHistory();\n  const [logsData, setLogsData] = useState([]);\n  const [cartData, setCartData] = useState([]);\n  const [ordersData, setOrdersData] = useState([]);\n  const [adminOrdersData, setAdminOrdersData] = useState([]);\n  const [usersData, setUsersData] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [buyAllLoading, setBuyAllLoading] = useState(false);\n  const [removeAllLoading, setRemoveAllLoading] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n\n  const buyNow = product => {\n    ApiClient.post(`/placeOrder/${product.productId}`, {\n      productName: product.productName,\n      quantity: product.quantity ? product.quantity : 1,\n      price: product.price\n    }).then(response => {\n      if (response.data) {\n        displayRazorpay(response.data, product.price).then(() => {\n          dispatch(openSnackbar(`The payment for ${product.productName} has been processed.`, 'success'));\n          history.push('/orders');\n        }).catch(() => {\n          dispatch(openSnackbar(`There was an error in processing the payment. Any amount deducted will be refunded within 4 days.`, 'error'));\n        });\n        const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n        cartData.splice(index, 1);\n        setCartData([...cartData]);\n      }\n    });\n  };\n\n  const buyAllNow = () => {\n    setBuyAllLoading(true);\n    ApiClient.post('/saveOrder').then(() => {\n      setCartData([]);\n      dispatch(openSnackbar(`Orders for all cart items have been created.`, 'success'));\n      history.push('/orders');\n    }).finally(() => setBuyAllLoading(false));\n  };\n\n  const cartHeaders = [{\n    name: 'Product Name',\n    selector: row => row.productName,\n    sortable: true,\n    grow: 3\n  }, {\n    name: 'Price',\n    selector: row => row.price,\n    sortable: true\n  }];\n  const ordersHeaders = [{\n    name: 'Product Name',\n    selector: row => row.productName,\n    sortable: true,\n    grow: 3\n  }, {\n    name: 'Status',\n    selector: row => row.status,\n    sortable: true\n  }, {\n    name: 'Payment',\n    selector: row => {\n      if (row.paid) {\n        return \"Completed\";\n      } else {\n        return \"Pending\";\n      }\n    },\n    sortable: true\n  }];\n  const adminOrdersHeaders = [{\n    name: 'Order ID',\n    selector: row => row.orderId,\n    sortable: true\n  }, {\n    name: 'User ID',\n    selector: row => row.userId,\n    sortable: true\n  }, {\n    name: 'Mobile Name',\n    selector: row => row.productName,\n    sortable: true,\n    grow: 4\n  }, {\n    name: 'Price',\n    selector: row => row.price,\n    sortable: true\n  }, {\n    name: 'Quantity',\n    selector: row => row.quantity,\n    sortable: true\n  }, {\n    name: 'Status',\n    selector: row => row.status,\n    sortable: true\n  }, {\n    name: 'Payment',\n    selector: row => {\n      if (row.paid) {\n        return \"Completed\";\n      } else {\n        return \"Pending\";\n      }\n    },\n    sortable: true\n  }];\n  const adminUserLogHeaders = [{\n    name: 'Occured on',\n    selector: row => row.createdAt,\n    sortable: true\n  }, {\n    name: 'Action',\n    selector: row => row.action\n  }];\n  const adminUsersHeaders = [{\n    name: 'User ID',\n    selector: row => parseInt(row.id),\n    sortable: true\n  }, {\n    name: 'Username',\n    selector: row => row.username,\n    sortable: true\n  }, {\n    name: 'Email',\n    selector: row => row.email,\n    sortable: true\n  }, {\n    name: 'Mobile Number',\n    selector: row => row.mobileNumber,\n    sortable: true\n  }, {\n    name: 'Role',\n    selector: row => row.role,\n    sortable: true\n  }, {\n    name: 'Audit Log',\n    button: true,\n    cell: row => /*#__PURE__*/_jsxDEV(Button, {\n      size: \"small\",\n      onClick: () => {\n        setSelectedUser(row);\n      },\n      children: \"View\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }, this)\n  }];\n\n  const CartDetails = _ref2 => {\n    let {\n      data\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: /*#__PURE__*/_jsxDEV(ExpanderContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Left, {\n          children: /*#__PURE__*/_jsxDEV(ComponentImg, {\n            src: data.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Right, {\n          children: /*#__PURE__*/_jsxDEV(Wrapper, {\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              children: data.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Price: \\u20B9 \", data.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Quantity:\", /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                style: {\n                  marginRight: '7px'\n                },\n                onClick: () => handleClick('remove', data),\n                children: /*#__PURE__*/_jsxDEV(MdRemove, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 25\n              }, this), data.quantity, /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                style: {\n                  marginLeft: '7px'\n                },\n                onClick: () => handleClick('add', data),\n                children: /*#__PURE__*/_jsxDEV(MdAdd, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Total Price: \\u20B9 \", parseInt(data.price.replace(/[^0-9]/g, '')) * parseInt(data.quantity)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  marginTop: \"10px\",\n                  marginRight: \"10px\",\n                  \"padding\": \"7px 15px\",\n                  \"width\": \"fit-content\"\n                },\n                color: \"primary\",\n                variant: \"contained\",\n                startIcon: /*#__PURE__*/_jsxDEV(FaBolt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 40\n                }, this),\n                onClick: () => buyNow(data),\n                children: \"Buy Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  marginTop: \"10px\",\n                  \"padding\": \"7px 15px\",\n                  \"width\": \"fit-content\"\n                },\n                color: \"error\",\n                variant: \"outlined\",\n                startIcon: /*#__PURE__*/_jsxDEV(MdDelete, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 40\n                }, this),\n                onClick: () => deleteCartItem(data.cartItemId),\n                children: \"Remove Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 5\n    }, this);\n  };\n\n  const OrderDetails = _ref3 => {\n    let {\n      data\n    } = _ref3;\n    return /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: /*#__PURE__*/_jsxDEV(ExpanderContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Left, {\n          children: /*#__PURE__*/_jsxDEV(ComponentImg, {\n            src: data.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Right, {\n          children: /*#__PURE__*/_jsxDEV(Wrapper, {\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              children: data.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Price: \\u20B9 \", data.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Quantity: \", data.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Ordered on: \", new Date(data.orderedDate).toDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Total Price: \\u20B9 \", parseInt(data.price.replace(/[^0-9]/g, '')) * parseInt(data.quantity)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Status: \", data.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Detail, {\n              children: [\"Payment: \", data.paid ? \"Completed\" : \"Pending\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 5\n    }, this);\n  };\n\n  const getAdminUsersData = () => {\n    ApiClient.get('/admin/users').then(response => {\n      if (response.data.length !== 0) {\n        if (response.data.length !== usersData.length) {\n          setUsersData(response.data);\n        }\n      }\n    }).finally(() => setLoaded(true));\n  };\n\n  const getCartData = () => {\n    ApiClient.get('/cart').then(response => {\n      if (response.data.length !== 0) {\n        if (response.data.length !== cartData.length || response.data[0].quantity !== cartData[0].quantity) {\n          setCartData(response.data);\n        }\n      }\n    }).finally(() => setLoaded(true));\n  };\n\n  const getOrdersData = () => {\n    ApiClient.get('/orders').then(response => {\n      if (response.data.length !== ordersData.length) {\n        setOrdersData(response.data);\n      }\n    }).finally(() => setLoaded(true));\n  };\n\n  const getAdminOrdersData = () => {\n    ApiClient.get('/admin/orders').then(response => {\n      if (response.data.length !== adminOrdersData.length) {\n        setAdminOrdersData(response.data);\n      }\n    }).finally(() => setLoaded(true));\n  };\n\n  const getLogsData = () => {\n    ApiClient.get(`/admin/users/${userId}/logs`).then(response => {\n      if (response.data.length !== logsData.length) {\n        setLogsData(response.data);\n      }\n    }).finally(() => setLoaded(true));\n  };\n\n  const deleteCartItem = id => {\n    ApiClient.delete(`/cart/${id}`).then(response => {\n      const index = cartData.findIndex(x => x.cartItemId === id);\n      cartData.splice(index, 1);\n      setCartData([...cartData]);\n      dispatch(openSnackbar(`Item removed.`, 'success'));\n    });\n  };\n\n  const deleteAllCartItems = () => {\n    if (cartData.length !== 0) {\n      setRemoveAllLoading(true);\n      cartData.forEach(item => {\n        ApiClient.delete(`/cart/${item.cartItemId}`);\n      });\n      dispatch(openSnackbar(`All Items removed.`, 'success'));\n      setCartData([]);\n      history.push('/');\n    }\n  };\n\n  const handleClick = (type, product) => {\n    if (type === 'add') {\n      ApiClient(doUrlEncodedRequest('POST', {\n        quantity: 1\n      }, `/home/${product.productId}`)).then(response => {\n        if (response.data) {\n          dispatch(openSnackbar(`Item added.`, 'success'));\n          const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n          cartData[index].quantity += 1;\n          setCartData([...cartData]);\n        }\n      });\n    } else {\n      if (product.quantity === 1) {\n        ApiClient.delete(`/cart/${product.cartItemId}`).then(response => {\n          const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n          cartData.splice(index, 1);\n          setCartData([...cartData]);\n          dispatch(openSnackbar(`Item removed.`, 'success'));\n        });\n      } else {\n        ApiClient(doUrlEncodedRequest('POST', {\n          quantity: -1\n        }, `/home/${product.productId}`)).then(response => {\n          if (response.data) {\n            const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n            cartData[index] = { ...cartData[index],\n              quantity: cartData[index].quantity - 1\n            };\n            setCartData([...cartData]);\n            dispatch(openSnackbar(`Item removed.`, 'success'));\n          }\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    setLoaded(false);\n\n    if (userType === 'user') {\n      getCartData();\n      getOrdersData();\n    } else {\n      if (type === 'users') {\n        getAdminUsersData();\n      } else if (type === 'logs') {\n        getLogsData();\n      } else {\n        getAdminOrdersData();\n      }\n    }\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    id: id,\n    style: {\n      width: type === 'logs' ? '100%' : '70%'\n    },\n    children: loaded ? userType === 'user' ? type === 'orders' ? ordersData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Orders is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      columns: ordersHeaders,\n      data: ordersData,\n      expandableRows: true,\n      expandableRowsComponent: OrderDetails,\n      customStyles: customStyles,\n      pagination: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 29\n    }, this) : cartData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cart is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        columns: cartHeaders,\n        data: cartData,\n        expandableRows: true,\n        expandableRowsComponent: CartDetails,\n        customStyles: customStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n        children: [/*#__PURE__*/_jsxDEV(LoadingButton, {\n          loading: buyAllLoading,\n          loadingIndicator: \"Buying...\",\n          style: {\n            height: '40px',\n            marginTop: '10px'\n          },\n          variant: \"contained\",\n          theme: theme,\n          startIcon: /*#__PURE__*/_jsxDEV(MdDone, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 52\n          }, this),\n          onClick: () => buyAllNow(),\n          children: \"Buy All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n          loading: removeAllLoading,\n          loadingIndicator: \"Removing...\",\n          style: {\n            height: '42px',\n            marginLeft: '10px',\n            marginTop: '10px'\n          },\n          color: \"error\",\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(MdDelete, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 52\n          }, this),\n          onClick: () => deleteAllCartItems(),\n          children: \"Remove All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true) : type === 'orders' ? adminOrdersData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Orders is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      columns: adminOrdersHeaders,\n      data: adminOrdersData,\n      customStyles: customStyles,\n      pagination: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 29\n    }, this) : type === 'users' ? usersData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Users are empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        columns: adminUsersHeaders,\n        data: usersData,\n        customStyles: customStyles,\n        pagination: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(AuditLog, {\n        user: selectedUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true) : logsData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No actions taken so far.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        columns: adminUserLogHeaders,\n        data: logsData,\n        customStyles: customStyles,\n        pagination: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 33\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(Skeleton, {\n      variant: \"rectangular\",\n      height: 400,\n      animation: \"wave\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Datatable, \"OUhDguEKMi/qOYJtosfwlAgymls=\", false, function () {\n  return [useStateValue, useHistory];\n});\n\n_c10 = Datatable;\n;\nexport default Datatable;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ExpanderContainer\");\n$RefreshReg$(_c3, \"Left\");\n$RefreshReg$(_c4, \"Right\");\n$RefreshReg$(_c5, \"Wrapper\");\n$RefreshReg$(_c6, \"Title\");\n$RefreshReg$(_c7, \"Detail\");\n$RefreshReg$(_c8, \"ComponentImg\");\n$RefreshReg$(_c9, \"ButtonContainer\");\n$RefreshReg$(_c10, \"Datatable\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/virtusa/project/football_league_management/src/components/Datatable.js"],"names":["useState","useEffect","default","Table","styled","useStateValue","MdRemove","MdAdd","MdDelete","MdDone","MdBolt","FaBolt","IconButton","Button","Skeleton","createTheme","ApiClient","doUrlEncodedRequest","displayRazorpay","openSnackbar","useHistory","LoadingButton","AuditLog","customStyles","table","style","borderStyle","borderWidth","headRow","backgroundColor","minHeight","borderBottomWidth","borderBottomStyle","Container","div","ExpanderContainer","Left","Right","Wrapper","Title","p","Detail","ComponentImg","img","ButtonContainer","theme","palette","primary","main","darker","Datatable","type","id","userId","userType","dispatch","history","logsData","setLogsData","cartData","setCartData","ordersData","setOrdersData","adminOrdersData","setAdminOrdersData","usersData","setUsersData","loaded","setLoaded","buyAllLoading","setBuyAllLoading","removeAllLoading","setRemoveAllLoading","selectedUser","setSelectedUser","buyNow","product","post","productId","productName","quantity","price","then","response","data","push","catch","index","findIndex","x","cartItemId","splice","buyAllNow","finally","cartHeaders","name","selector","row","sortable","grow","ordersHeaders","status","paid","adminOrdersHeaders","orderId","adminUserLogHeaders","createdAt","action","adminUsersHeaders","parseInt","username","email","mobileNumber","role","button","cell","CartDetails","imageUrl","marginRight","handleClick","marginLeft","replace","marginTop","deleteCartItem","OrderDetails","Date","orderedDate","toDateString","getAdminUsersData","get","length","getCartData","getOrdersData","getAdminOrdersData","getLogsData","delete","deleteAllCartItems","forEach","item","width","height"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport {default as Table} from 'react-data-table-component';\nimport styled from 'styled-components';\nimport { useStateValue } from \"../utils/StateProvider\";\nimport { MdRemove, MdAdd, MdDelete, MdDone, MdBolt } from \"react-icons/md\";\nimport { FaBolt } from \"react-icons/fa\";\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button'\nimport Skeleton from '@mui/material/Skeleton';\nimport { createTheme } from '@mui/material/styles';\nimport { ApiClient, doUrlEncodedRequest } from '../utils/ApiClient';\nimport { displayRazorpay } from '../utils/Razorpay';\nimport { openSnackbar } from \"../utils/Reducer\";\nimport { useHistory } from 'react-router-dom';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport AuditLog from './AuditLog';\n\n\nconst customStyles = {\n    table: {\n\t\tstyle: { \n            borderStyle: 'solid',\n            borderWidth: '1px',\n\t\t},\n\t},\n    headRow: {\n\t\tstyle: {\n\t\t\tbackgroundColor: '#00BFA6',\n\t\t\tminHeight: '52px',\n\t\t\tborderBottomWidth: '1px',\n\t\t\tborderBottomStyle: 'solid',\n\t\t}\n\t},\n};\n\n\nconst Container = styled.div`\n    margin: 0 auto;\n    @media(max-width:780px){\n        width: 100%;\n    }\n`\nconst ExpanderContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    padding: 20px;\n    @media(max-width: 780px){\n        flex-direction: column;\n    }\n`\nconst Left = styled.div`\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\nconst Right = styled.div`\n    flex: 2;\n    display: flex;\n    justify-content: center;\n    justify-content: flex-start;\n`\nconst Wrapper = styled.div`\n    display: flex;\n    justify-content: flex-start;    \n    flex-direction: column;\n    text-align: left;\n`\nconst Title = styled.p`\n    font-size: 20px;\n    font-weight: 700;\n`\nconst Detail = styled.p`\n    font-size: 16px;\n    font-weight: 500;\n`\nconst ComponentImg = styled.img`\n    height: 200px;\n    width: auto;\n    text-align: center;\n`\nconst ButtonContainer = styled.div`\n    margin: 2px;\n`\nconst theme = createTheme({\n    palette: {\n      primary: {\n        main: '#B1D8B7',\n        darker: '#00BFA6',\n      },\n    },\n});\n\nfunction Datatable({type, id, userId}) {\n\n    const [{userType}, dispatch] = useStateValue();\n    const history = useHistory();\n    const [logsData, setLogsData]  = useState([]);\n    const [cartData, setCartData]  = useState([]);\n    const [ordersData, setOrdersData]  = useState([]);\n    const [adminOrdersData, setAdminOrdersData] = useState([]);\n    const [usersData, setUsersData] = useState([]);\n    const [loaded, setLoaded] = useState(false);\n    const [buyAllLoading, setBuyAllLoading] = useState(false);\n    const [removeAllLoading, setRemoveAllLoading] = useState(false);\n    const [selectedUser, setSelectedUser] = useState(null);\n\n    const buyNow = (product) => {\n        ApiClient.post(`/placeOrder/${product.productId}`, {\n            productName: product.productName,\n            quantity: product.quantity ? (product.quantity) : (1),\n            price: product.price\n        }).then(response => {\n            if (response.data) {\n                displayRazorpay(response.data, product.price).then(() => {\n                    dispatch(openSnackbar(`The payment for ${product.productName} has been processed.`, 'success'));\n                    history.push('/orders')\n                }).catch(() => {\n                    dispatch(openSnackbar(`There was an error in processing the payment. Any amount deducted will be refunded within 4 days.`, 'error'));\n                });\n\n                const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n                cartData.splice(index, 1);\n                setCartData([...cartData]);\n            }\n        });\n    }\n    \n    const buyAllNow = () => {\n        setBuyAllLoading(true);\n        ApiClient.post('/saveOrder').then(() => {\n            setCartData([]);\n            dispatch(openSnackbar(`Orders for all cart items have been created.`, 'success'));\n            history.push('/orders');\n        }).finally(() => setBuyAllLoading(false));\n    }\n    \n\n    const cartHeaders = [\n        {\n            name: 'Product Name',\n            selector: row => row.productName,\n            sortable: true,\n            grow: 3,\n        },\n        {\n            name: 'Price',\n            selector: row => row.price,\n            sortable: true, \n        },\n    ];\n\n    const ordersHeaders = [\n        {\n            name: 'Product Name',\n            selector: row => row.productName,\n            sortable: true,\n            grow: 3,\n        },\n        {\n            name: 'Status',\n            selector: row => row.status,\n            sortable: true,\n        },\n        {\n            name: 'Payment',\n            selector: row => {\n                if(row.paid){\n                    return \"Completed\"\n                }else{\n                    return \"Pending\"\n                }\n            },                \n            sortable: true,\n        },\n    ];\n\n    const adminOrdersHeaders = [\n        {\n            name: 'Order ID',\n            selector: row => row.orderId,\n            sortable: true,\n        },\n        {\n            name: 'User ID',\n            selector: row => row.userId,\n            sortable: true,\n        },\n        {\n            name: 'Mobile Name',\n            selector: row => row.productName,\n            sortable: true, \n            grow: 4,\n        },\n        {\n            name: 'Price',\n            selector: row => row.price,\n            sortable: true, \n        },\n        {\n            name: 'Quantity',\n            selector: row => row.quantity,\n            sortable: true, \n        },\n        {\n            name: 'Status',\n            selector: row => row.status,\n            sortable: true, \n        },\n        {\n            name: 'Payment',\n            selector: row => {\n                if(row.paid){\n                    return \"Completed\"\n                }else{\n                    return \"Pending\"\n                }\n            },                \n            sortable: true,\n        },\n    ];\n\n    const adminUserLogHeaders = [\n        {\n            name: 'Occured on',\n            selector: row => row.createdAt,\n            sortable: true\n        },\n        {\n            name: 'Action',\n            selector: row => row.action\n        }\n    ];\n\n    const adminUsersHeaders = [\n        {\n            name: 'User ID',\n            selector: row => parseInt(row.id),\n            sortable: true\n        },\n        {\n            name: 'Username',\n            selector: row => row.username,\n            sortable: true\n        },\n        {\n            name: 'Email',\n            selector: row => row.email,\n            sortable: true\n        },\n        {\n            name: 'Mobile Number',\n            selector: row => row.mobileNumber,\n            sortable: true\n        },\n        {\n            name: 'Role',\n            selector: row => row.role,\n            sortable: true\n        },\n        {\n            name: 'Audit Log',\n            button: true,\n            cell: row => (\n                <Button size=\"small\" onClick={() => {\n                    setSelectedUser(row);\n                }}>\n                    View\n                </Button>\n            )\n        }\n    ];\n\n    const CartDetails = ({ data }) => \n    <pre>\n        <ExpanderContainer>\n            <Left>\n                <ComponentImg src={data.imageUrl}/>\n            </Left>\n            <Right>\n                <Wrapper>\n                    <Title>{data.productName}</Title>\n                    <Detail>Price: &#8377; {data.price}</Detail>\n                    <Detail>Quantity: \n                        <IconButton color=\"primary\" style={{marginRight: '7px'}} onClick={() => handleClick('remove', data)}>\n                            <MdRemove/>\n                        </IconButton> \n                        {data.quantity} \n                        <IconButton color=\"primary\" style={{marginLeft: '7px'}} onClick={() => handleClick('add', data)} >\n                            <MdAdd/>\n                        </IconButton>\n                    </Detail>\n                    <Detail>Total Price: &#8377; {parseInt(data.price.replace(/[^0-9]/g, '')) * parseInt(data.quantity)}</Detail>\n                    <ButtonContainer>\n                        <Button \n                            style={{marginTop:\"10px\", marginRight:\"10px\", \"padding\": \"7px 15px\", \"width\": \"fit-content\"}} \n                            color=\"primary\" \n                            variant=\"contained\"\n                            startIcon={<FaBolt />}\n                            onClick={() => buyNow(data)}\n                        >\n                            Buy Now\n                        </Button>\n                        <Button \n                            style={{marginTop:\"10px\", \"padding\": \"7px 15px\", \"width\": \"fit-content\"}} \n                            color=\"error\" \n                            variant=\"outlined\"\n                            startIcon={<MdDelete />}\n                            onClick={() => deleteCartItem(data.cartItemId)}\n                        >\n                            Remove Item\n                        </Button>\n                    </ButtonContainer>\n                </Wrapper>\n            </Right>\n            \n        </ExpanderContainer>\n    </pre>;\n\n    const OrderDetails = ({ data }) => \n    <pre>\n        <ExpanderContainer>\n            <Left>\n                <ComponentImg src={data.imageUrl}/>\n            </Left>\n            <Right>\n                <Wrapper>\n                    <Title>{data.productName}</Title>\n                    <Detail>Price: &#8377; {data.price}</Detail>\n                    <Detail>Quantity: {data.quantity}\n                    </Detail>\n                    <Detail>Ordered on: {new Date(data.orderedDate).toDateString()}</Detail>\n                    <Detail>Total Price: &#8377; {parseInt(data.price.replace(/[^0-9]/g, '')) * parseInt(data.quantity) }</Detail>\n                    <Detail>Status: {data.status}</Detail>\n                    <Detail>Payment: {data.paid ? \"Completed\" : \"Pending\" }</Detail>\n                </Wrapper>\n            </Right>\n\n        </ExpanderContainer>\n    </pre>;\n\n    const getAdminUsersData = () => {\n        ApiClient.get('/admin/users').then(response => {\n            if (response.data.length !== 0) {\n                if (response.data.length !== usersData.length) {\n                    setUsersData(response.data);\n                }\n            }\n        }).finally(() => setLoaded(true));\n    }\n\n    const getCartData = () => {\n        ApiClient.get('/cart').then(response => {\n            if(response.data.length !== 0){                \n                if(response.data.length !== cartData.length || response.data[0].quantity !== cartData[0].quantity){\n                    setCartData(response.data)\n                }\n            }\n        }).finally(() => setLoaded(true));\n    }\n\n    const getOrdersData = () => {\n        ApiClient.get('/orders').then(response => {\n            if(response.data.length !== ordersData.length){\n                setOrdersData(response.data)\n            }\n        }).finally(() => setLoaded(true));\n    }\n\n    const getAdminOrdersData = () => {\n        ApiClient.get('/admin/orders').then(response => {\n            if(response.data.length !== adminOrdersData.length){\n                setAdminOrdersData(response.data)\n            }\n        }).finally(() => setLoaded(true));\n    }\n\n    const getLogsData = () => {\n        ApiClient.get(`/admin/users/${userId}/logs`).then(response => {\n            if(response.data.length !== logsData.length){\n                setLogsData(response.data)\n            }\n        }).finally(() => setLoaded(true));\n    }\n\n    const deleteCartItem = (id) => {\n        ApiClient.delete(`/cart/${id}`).then(response => {\n            const index = cartData.findIndex(x => x.cartItemId === id);\n            cartData.splice(index, 1);\n            setCartData([...cartData]);\n            dispatch(openSnackbar(`Item removed.`, 'success'));\n        });\n    }\n\n    const deleteAllCartItems = () => {\n        if(cartData.length !== 0) {\n            setRemoveAllLoading(true);\n            cartData.forEach(item => {\n                ApiClient.delete(`/cart/${item.cartItemId}`)\n            })\n            dispatch(openSnackbar(`All Items removed.`, 'success'));\n            setCartData([]);\n            history.push('/');\n        }\n    }\n\n    const handleClick =  (type, product)  => {\n        if(type === 'add'){\n            ApiClient(doUrlEncodedRequest('POST', { quantity: 1 }, `/home/${product.productId}`)).then(response => {\n                if (response.data) {\n                    dispatch(openSnackbar(`Item added.`, 'success'));\n                    const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n                    cartData[index].quantity += 1;\n                    setCartData([...cartData]);\n                }\n            });\n        }\n        else{\n            if (product.quantity === 1){\n                ApiClient.delete(`/cart/${product.cartItemId}`).then(response => {\n                    const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n                    cartData.splice(index, 1);\n                    setCartData([...cartData]);\n                    dispatch(openSnackbar(`Item removed.`, 'success'));\n                });\n            }\n            else {                \n                ApiClient(doUrlEncodedRequest('POST', { quantity: -1 }, `/home/${product.productId}`)).then(response => {\n                    if (response.data) {\n                        const index = cartData.findIndex(x => x.cartItemId === product.cartItemId);\n                        cartData[index] = {\n                            ...cartData[index],\n                            quantity: cartData[index].quantity - 1\n                        }\n                        setCartData([...cartData]);            \n                        dispatch(openSnackbar(`Item removed.`, 'success'));            \n                    }\n                });\n            }\n        }\n    }\n\n    useEffect(() => {\n        setLoaded(false);\n        if(userType === 'user') {            \n            getCartData()\n            getOrdersData()\n        }\n        else{\n            if (type === 'users') {\n                getAdminUsersData();\n            }\n            else if (type === 'logs') {\n                getLogsData();\n            }\n            else {\n                getAdminOrdersData();\n            }\n        }        \n    }, [userId])\n\n    return (\n        <Container id={id} style={{ width: type === 'logs' ? '100%' : '70%' }}>\n        {\n            loaded ? (\n                userType === 'user' ? ( \n                    type === 'orders' ? (\n                        ordersData.length === 0 ? (\n                            <p>Orders is empty</p>\n                        ) : (\n                            <Table\n                            columns={ordersHeaders}\n                            data={ordersData}\n                            expandableRows\n                            expandableRowsComponent={OrderDetails}\n                            customStyles={customStyles}\n                            pagination\n                            />\n                        )\n                        \n                    ) : (\n                        cartData.length === 0 ? (\n                            <p>Cart is empty</p>\n                        ) : (\n                            <>\n                                <Table\n                                    columns={cartHeaders}\n                                    data={cartData}\n                                    expandableRows\n                                    expandableRowsComponent={CartDetails}\n                                    customStyles={customStyles}\n                                />\n                                <ButtonContainer>\n                                    <LoadingButton loading={buyAllLoading} loadingIndicator=\"Buying...\"\n                                        style={{height: '40px', marginTop: '10px'}} \n                                        variant=\"contained\" \n                                        theme={theme} \n                                        startIcon={<MdDone />}\n                                        onClick={() => buyAllNow()}\n                                    >\n                                        Buy All\n                                    </LoadingButton>\n                                    <LoadingButton loading={removeAllLoading} loadingIndicator=\"Removing...\"\n                                        style={{height: '42px', marginLeft: '10px', marginTop: '10px'}} \n                                        color=\"error\" \n                                        variant=\"outlined\"\n                                        startIcon={<MdDelete />}\n                                        onClick={() => deleteAllCartItems()}\n                                    >\n                                        Remove All\n                                    </LoadingButton>\n                                </ButtonContainer>\n                            </> \n                        )\n                    )\n                )\n                : (\n                    type === 'orders' ?\n                    ( \n                        adminOrdersData.length === 0 ? (\n                            <p>Orders is empty</p>\n                        ) : (\n                            <Table\n                                columns={adminOrdersHeaders}\n                                data={adminOrdersData}\n                                customStyles={customStyles}\n                                pagination\n                            /> \n                        ) \n                    ) : type === 'users' ? (\n                        usersData.length === 0 ? (\n                            <p>Users are empty</p>\n                        ) : (\n                            <>\n                                <Table\n                                    columns={adminUsersHeaders}\n                                    data={usersData}\n                                    customStyles={customStyles}\n                                    pagination\n                                /> \n                                <AuditLog user={selectedUser} />\n                            </>\n                        ) \n                    ) : (\n                        logsData.length === 0 ? (\n                            <p>No actions taken so far.</p>\n                        ) : (\n                            <>\n                                <Table\n                                    columns={adminUserLogHeaders}\n                                    data={logsData}\n                                    customStyles={customStyles}\n                                    pagination\n                                /> \n                            </>\n                        )\n                    )\n                )\n            ) : (\n                <Skeleton variant=\"rectangular\" height={400} animation=\"wave\" /> \n            )\n        }\n        </Container>\n    );\n};\n\nexport default Datatable;"]},"metadata":{},"sourceType":"module"}